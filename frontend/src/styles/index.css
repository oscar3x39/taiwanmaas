@tailwind base;
@tailwind components;
@tailwind utilities;

/* 🤖 AI-Generated Global Styles */
@layer base {
  * {
    @apply border-gray-200;
  }
  
  body {
    @apply bg-gray-50 text-gray-900 font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* 🎨 Custom Component Styles */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }
  
  .btn-primary {
    @apply btn bg-primary-800 text-white hover:bg-primary-900 active:bg-primary-900;
  }
  
  .btn-secondary {
    @apply btn bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300;
  }
  
  .btn-outline {
    @apply btn border border-gray-300 bg-transparent hover:bg-gray-50 active:bg-gray-100;
  }
  
  .card {
    @apply rounded-xl border bg-white p-6 shadow-md;
  }
  
  .input {
    @apply flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors;
  }
  
  .label {
    @apply text-sm font-medium leading-none;
  }
  
  /* 🗺️ Map Container Styles */
  .map-container {
    @apply relative h-full w-full overflow-hidden rounded-lg;
  }
  
  .map-container .leaflet-container {
    @apply h-full w-full;
  }
  
  /* 📱 Responsive Sidebar */
  .sidebar {
    @apply flex h-full w-full flex-col bg-white shadow-lg lg:w-96;
  }
  
  .sidebar-header {
    @apply border-b bg-primary-800 p-6 text-white;
  }
  
  .sidebar-content {
    @apply flex-1 overflow-y-auto p-6;
  }
  
  /* 🚇 Route Card Styles */
  .route-card {
    @apply cursor-pointer rounded-lg border-2 border-transparent bg-white p-5 transition-all hover:border-primary-200 hover:shadow-lg;
  }
  
  .route-card.selected {
    @apply border-primary-500 bg-primary-50 shadow-lg;
  }
  
  .route-segment {
    @apply flex items-start space-x-4 py-3;
  }
  
  .segment-icon {
    @apply flex h-10 w-10 items-center justify-center rounded-full text-white text-sm font-bold;
  }
  
  .segment-icon.walking {
    @apply bg-green-500;
  }
  
  .segment-icon.mrt {
    @apply bg-blue-500;
  }
  
  .segment-icon.bus {
    @apply bg-yellow-500 text-gray-900;
  }
  
  .segment-icon.taxi {
    @apply bg-red-500;
  }
  
  /* 🎯 Loading States */
  .loading-spinner {
    @apply inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent;
  }
  
  .skeleton {
    @apply animate-pulse rounded bg-gray-200;
  }
  
  /* 🎨 Animations */
  .fade-in {
    @apply animate-fade-in;
  }
  
  .slide-up {
    @apply animate-slide-up;
  }
  
  .bounce-in {
    @apply animate-bounce-in;
  }
}

@layer utilities {
  /* 🔧 Custom Utilities */
  .text-balance {
    text-wrap: balance;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* 📱 Mobile-first responsive utilities */
  .container-mobile {
    @apply mx-auto max-w-sm px-4;
  }
  
  .container-tablet {
    @apply mx-auto max-w-4xl px-6;
  }
  
  .container-desktop {
    @apply mx-auto max-w-7xl px-8;
  }
}

/* 🌐 Leaflet Map Customizations */
.leaflet-popup-content-wrapper {
  @apply rounded-lg shadow-lg;
}

.leaflet-popup-content {
  @apply text-sm;
}

.leaflet-control-zoom a {
  @apply text-gray-700 hover:text-primary-600;
}

.leaflet-bar {
  @apply rounded-lg shadow-md;
}

/* � Forcus styles for accessibility */
.focus-visible {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2;
}

/* 📱 Mobile optimizations */
@media (max-width: 768px) {
  .sidebar {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    top: auto;
    height: 80vh !important;
    width: 100%;
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
    z-index: 1000;
  }

  .map-container {
    height: 100vh;
  }

  /* 手機版路線卡片優化 */
  .route-card {
    padding: 1.25rem !important;
    margin-bottom: 1rem;
  }

  /* 手機版路線段圖示 */
  .segment-icon {
    height: 3rem !important;
    width: 3rem !important;
    font-size: 1rem !important;
  }

  /* 手機版路線段間距 */
  .route-segment {
    column-gap: 1rem;
    padding-top: 1rem;
    padding-bottom: 1rem;
  }

  /* 手機版 sidebar 內容區域 */
  .sidebar-content {
    padding: 1rem !important;
    max-height: calc(80vh - 80px);
    overflow-y: auto;
  }

  /* 手機版統計區域優化 */
  .summary-stats {
    padding: 1.25rem !important;
    font-size: 1rem;
  }

  .summary-stats .grid {
    gap: 1.5rem;
  }

  .summary-stats .text-lg {
    font-size: 1.5rem !important;
  }

  .summary-stats .text-xs {
    font-size: 0.875rem !important;
  }

  /* 手機版段落詳細資訊 */
  .route-segment .text-sm {
    font-size: 0.875rem !important;
  }

  /* 手機版段落間距 */
  .space-y-3 > * + * {
    margin-top: 1rem !important;
  }

  /* 手機版搜尋表單優化 */
  .search-form {
    padding: 1rem;
  }

  /* 手機版起點終點輸入框 */
  .origin-destination-container {
    gap: 0.5rem;
  }

  .origin-destination-container input {
    font-size: 0.875rem !important;
    padding: 0.5rem 0.5rem 0.5rem 2rem !important;
  }

  /* 手機版交換按鈕 */
  .swap-button {
    padding: 0.375rem !important;
    margin-top: 0.25rem;
  }

  .swap-button svg {
    height: 1rem !important;
    width: 1rem !important;
  }

  /* 手機版建議列表 */
  .suggestions-list {
    max-height: 8rem !important;
    font-size: 0.75rem;
  }

  .suggestions-list button {
    padding: 0.5rem !important;
  }
}

/* 🎨 Print styles */
@media print {
  .no-print {
    @apply hidden;
  }
  
  .print-only {
    @apply block;
  }
}